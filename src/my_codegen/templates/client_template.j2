from http import HTTPStatus
from typing import Any, Optional, List, Dict
from my_codegen.http_clients.api_client import ApiClient
from {{ models_import_path }} import {{ imports | join(', ') }}
from my_codegen.utils.report_utils import Reporter

class {{ class_name }}(ApiClient):
    _service = "{{ service_path }}"

{% for method in methods %}
    @Reporter.general_step("{{ method.description }}")
    def {{ method.name }}(self,
        {% if method.required_params %}{{ method.required_params | join(',\n        ') }},{% endif %}
        {% if method.optional_params %}{{ method.optional_params | join(',\n        ') }},{% endif %}
        headers: Optional[Dict[str, str]] = None,
        status: HTTPStatus = HTTPStatus.{{ method.expected_status }}) -> {{ method.return_type }}:
        path = f"{{ method.path }}"
        {{ method.http_call }}
        {{ method.return_statement }}

{% endfor %}